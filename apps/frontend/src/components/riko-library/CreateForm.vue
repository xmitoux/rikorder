<!-- üñºÔ∏èÊ¢®Â≠ê„Å°„ÇÉ„Çì„É©„Ç§„Éñ„É©„É™ ÁîªÂÉèÁôªÈå≤ÁîªÈù¢ -->
<script setup lang="ts">
defineProps<{
  show: boolean;
}>();

const emit = defineEmits(['ok', 'cancel']);

const {
  fileInput, selectedFile, selectFile, imagePreview, onFileSelected,
  selctedModes, isFavorite,
  onClickOk, onClickCancel,
} = useCreateForm();
</script>

<template>
  <q-dialog maximized :model-value="show" persistent transition-hide="slide-right" transition-show="slide-left">
    <NuxtLayout name="custom">
      <template #header>
        ÁîªÂÉèÁôªÈå≤
      </template>

      <!-- ÁîªÂÉèÈÅ∏Êäû -->
      <div class="q-ml-sm q-mb-lg">
        <UISectionLabel class="q-mb-md" label="ÁîªÂÉè" />

        <q-btn
          class="q-ml-sm" color="pink-2" label="ÈÅ∏Êäû" :ripple="{ color: 'pink' }" size="md" text-color="dark" unelevated
          @click="selectFile"
        />
        <input ref="fileInput" class="hidden" type="file" @change="onFileSelected">

        <div class="q-px-sm q-mt-sm">
          <q-img v-if="imagePreview" fit="contain" height="20vh" ratio="16/9" spinner-color="pink-2" :src="imagePreview" />
        </div>
      </div>

      <!-- „É¢„Éº„ÉâÈÅ∏Êäû -->
      <div class="q-ml-sm q-mb-lg">
        <UISectionLabel class="q-mb-sm" label="Rikord„É¢„Éº„Éâ" />

        <div class="q-gutter-lg">
          <q-checkbox v-model="selctedModes" class="text-subtitle1" color="pink-2" label="View" val="View" />
          <q-checkbox v-model="selctedModes" class="text-subtitle1" color="pink-2" label="Solo" val="Solo" />
          <q-checkbox v-model="selctedModes" class="text-subtitle1" color="pink-2" label="Multi" val="Multi" />
        </div>
      </div>

      <!-- „ÅäÊ∞ó„Å´ÂÖ•„Çä -->
      <div class="q-ml-sm q-mb-lg">
        <UISectionLabel class="q-mb-sm" label="„ÅäÊ∞ó„Å´ÂÖ•„Çä" />
        <q-toggle v-model="isFavorite" checked-icon="mdi-star" color="pink-2" keep-color size="lg" />
      </div>

      <template #footer>
        <UIButtonCancel class="q-mr-sm" @click="onClickCancel(() => emit('cancel'))" />
        <UIButtonOk class="q-mr-sm" label="ÁôªÈå≤„Åô„Çã" @click="onClickOk(() => emit('ok'))" />
      </template>
    </NuxtLayout>
  </q-dialog>
</template>

<style scoped lang="scss">
</style>
